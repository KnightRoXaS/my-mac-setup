# improve colors
set -g default-terminal 'xterm-256color'

# act like vim
setw -g mode-keys vi
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+

set -g prefix2 C-s

# start window numbers at 1 to match keyboard order with tmux window order
set -g base-index 1
set-window-option -g pane-base-index 1

# renumber windows sequentially after closing any of them
set -g renumber-windows on

# soften status bar color from harsh green to light gray
set -g status-bg '#666666'
set -g status-fg '#aaaaaa'

# remove administrative debris (session name, hostname, time) in status bar
# set -g status-left ''
# set -g status-right ''

# increase scrollback lines
set -g history-limit 10000

# prefix -> back-one-character
bind-key C-b send-prefix
# prefix-2 -> forward-incremental-history-search
bind-key C-s send-prefix -2

# set-option -g default-command "reattach-to-user-namespace -l zsh"
# bind -n C-k run-shell 'tmux-vim-select-pane -U'
# bind -n C-j run-shell 'tmux-vim-select-pane -D'
# bind -n C-h run-shell 'tmux-vim-select-pane -L'
# bind -n C-l run-shell 'tmux-vim-select-pane -R'
# bind -n "C-\\" run-shell 'tmux-vim-select-pane -l'

# # Vim-style copy/paste
# unbind y
# bind y copy-mode
# unbind p
# bind p paste-buffer
# bind -t vi-copy H start-of-line
# bind -t vi-copy L end-of-line
# bind -t vi-copy v begin-selection
# # bind -t vi-copy y copy-selection
# bind -t vi-copy Escape cancel
# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
# # Update default binding of `Enter` to also use copy-pipe
# unbind -t vi-copy Enter
# bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# # act like GNU screen
# unbind %
# bind | split-window -h
# bind _ split-window -v
# # set -g prefix C-b
# set -g prefix C-a
# unbind-key C-b
# bind-key C-a send-prefix
# bind a send-prefix

# # themes
# set -g status-bg black
# set -g status-fg white
# set -g status-left '#[fg=green]#H'
# set -g status-right '#[fg=yellow]#(uptime | cut -d “,” -f 2-)'
# set-window-option -g window-status-current-bg red

# # powerline
# run-shell "powerline-daemon -q"
# if-shell "[ -f ~/Library/Python/2.7/lib/python/site-packages/powerline/bindings/tmux/powerline.conf ]" 'source ~/Library/Python/2.7/lib/python/site-packages/powerline/bindings/tmux/powerline.conf'
# if-shell "[ -f /usr/local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf ]" 'source /usr/local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf'

# bind C-b last-window
# bind C-a last-window
# bind F9 last-window

# # auto set window title
# setw -g automatic-rename on

# # Allows for faster key repetition
# set -s escape-time 0

# ## mouse mode
# set-option -g mouse on

# # Autostart scroll mode
# bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'select-pane -t=; copy-mode -e; send-keys -M'"
# bind -n WheelDownPane select-pane -t= \; send-keys -M

# # force a reload of the config file
# unbind r
# bind r \
#     source-file ~/.tmux.conf \;\
#     display 'Reloaded tmux config.'

# # copy to clipboard in mode-mouse
# # bind y run-shell "reattach-to-user-namespace -l zsh -c 'tmux show-buffer | pbcopy' ; display 'Copied to clipboard'"


# # Toggle mouse on
# bind m \
#     set -g mode-mouse on \;\
#     set -g mouse-resize-pane on \;\
#     set -g mouse-select-pane on \;\
#     set -g mouse-select-window on \;\
#     display 'Mouse: ON'

# # Toggle mouse off
# bind M \
#     set -g mode-mouse off \;\
#     set -g mouse-resize-pane off \;\
#     set -g mouse-select-pane off \;\
#     set -g mouse-select-window off \;\
#     display 'Mouse: OFF'

# # pass through xterm keys
# set -g xterm-keys on

# # Tmux Plugins
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'
# set -g @plugin 'tmux-plugins/tmux-yank'
# set -g @plugin 'tmux-plugins/tmux-sidebar'
# set -g @plugin 'tmux-plugins/tmux-pain-control'

# # Tmux Plugin options
# set -g @continuum-boot 'on'
# set -g @continuum-boot-options 'iterm,fullscreen'

# # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# run '~/.tmux/plugins/tpm/tpm'
